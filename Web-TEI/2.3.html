<!DOCTYPE html SYSTEM "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>2. Principios XML</title>
        <link rel="stylesheet" type="text/css" href="estilo.css" />
    </head>
    <body>
        <div class="top-menu">
            <ul>
                <li>Tema: ¿Qué es la TEI y qué aplicaciones prácticas tiene? <ul class="indent">
                    <li><a href="1.1.html">1.1. Cuestiones generales</a></li>
                    <li><a href="1.2.html">1.2. Historia y organización</a></li>
                    <li><a href="1.3.html">1.3. Campos de aplicación</a></li>
                </ul>
                </li>
                
                <li>Tema 2: Extensible Markup Language <ul class="indent">
                    <li><a href="2.1.html">2.1. Principios fundamentales de XML</a></li>
                    <li><a href="2.2.html">2.2. Reglas y conceptos generales </a></li>
                    <li><a href="2.3.html">2.3. Estructura de un documento XML</a></li>
                    <li><a href="2.4.html">2.4. Los esquemas</a></li>
                    <li><a href="2.5.html">2.5. Conceptos "válido" y "bien formado"</a></li>
                    <li><a href="2.6.html">2.6. Conclusiones</a></li>
                </ul></li>
                
                <li>Tema 3: Estructura básica de un documento TEI <ul class="indent">
                    <li><a href="3.1.html">3.0. Visión de conjunto</a></li>
                    <li><a href="3.1.html#P1">3.1. Encabezado</a></li>
                    <li><a href="3.1.html#P2">3.2. El cuerpo del documento</a></li>
                    <li><a href="3.1.html#P3">3.3. Divisiones</a></li>
                </ul></li>
                
                <li>Tema 4: Elementos generales de un documento TEI<ul class="indent">
                    <li><a href="4.1.html">4.1. Párrafos y puntuación</a></li>
                    <li><a href="4.1.html#P2">4.2. Elementos tipográficos</a></li>
                    <li><a href="4.1.html#P3">4.3. Nombres, números, fechas</a></li>
                    <li><a href="4.1.html#P4">4.4. Listas</a></li>
                    <li><a href="4.1.html#P5">4.5. Otros elementos</a></li>
                </ul></li>
                
                <li>Tema 5: Las guías directrices y su manejo<ul class="indent">
                    <li><a href="5.1.html">5.1. Presentación </a></li>
                    <li><a href="5.1.html#P2">5.2. Estructura y formatos de publicación </a></li>
                    <li><a href="5.1.html#P3">5.3. Materiales y recursos relacionados </a></li>
                </ul></li>
                
                <li>Tema 6: Tipologías textuales <ul class="indent">
                    <li><a href="6.1.html">6.1. Prosa</a></li>
                    <li><a href="6.2.html">6.2. Poesía</a></li>
                    <li><a href="6.3.html">6.3. Drama</a></li>
                </ul></li>
                
                <li>Tema 7: Personalización TEI <ul class="indent">
                    <li><a href="7.1.html">7.1. Principios fundamentales del esquema</a></li>
                    <li><a href="7.2.html">7.2. ROMA</a></li>
                </ul></li>
                
                <li>Tema 8: La función del documento ODD<ul class="indent">
                    <li><a href="8.1.html">8.1. Importancia y papel central</a></li>
                    <li><a href="8.1.html#P2">8.2. Herramientas</a></li>
                    <li><a href="8.1.html#P3">8.3. Recursos</a></li>
                </ul></li>
                
            </ul>
        </div>
        <div class="contenido"><h1>Tema 2: Principios fundamentales de XML (3)</h1>
        <h2>3. Estructura de un documento XML <br /></h2>
        <p align="justify">Pasemos ahora a ver con más detalle cada una de las partes de un
            documento XML. Os aconsejo que para esta sección abráis el documento <a
                href="/o/10015222"><span style="color: #0058ff;">ejemplo-2.xml</span></a>, un
            pequeño fichero XML comentado. Una vez descargado y abierto con oXygen u otro programa
            de edición XML, lo podéis anotar libremente con vuestros comentarios.</p>
        <h2>3.1. Declaración XML</h2>
        <p style="text-align: justify;">Los documentos XML empiezan por una declaración XML:</p>
        <p align="center" style="text-align: center;">
            <font face="courier new,courier,monospace">&lt;?xml version=&quot;1.0&quot;
                encoding=&quot;UTF-8&quot;?&gt;</font></p>
        <p style="text-align: justify;">Este elemento no puede ir precedido por ningún comentario,
            ni espacio en blanco ni ningún otro elemento. Su función es simple pero crucial, y
            recubre tres objetivos básicos:</p>
        <ul>
            <li>
                <div align="justify"> Declarar que es un documento XML; el paréntesis angular
                    seguido del interrogante de cierre es interpretado como código por nuestra
                    máquina y le está indicando que se trata de una declaración o una instrucción de
                    procesamiento, no de un elemento corriente. </div>
            </li>
            <li>
                <div align="justify"> Declarar qué versión del estándar XML se sigue; No es lo mismo
                    utilizar la versión 1.0 que la 1.1. Además, en el hipotético caso que en el
                    futuro se publique una nueva versión (cosa que suele ocurrir con los lenguajes
                    informáticos) es importante que dejemos para el futuro la versión específica
                    utilizada para evitar problemas. </div>
            </li>
            <li>
                <div align="justify"> Declarar qué caracteres de codificación utiliza el documento.
                    Los documentos XML contienen texto cifrado en Unicode. Unicode es una
                    combinación de caracteres que incluye prácticamente todas las lenguas del mundo
                    y puede expresarse a través de diversos sistemas de codificación. Cada uno de
                    estos sistemas establece un juego de caracteres (“character set”) específico que
                    representa los caracteres (alfanuméricos y otros símbolos) a través de una
                    secuencia de números (por ejemplo, imaginemos que el número 65 corresponde a la
                    letra A). Así, cada combinación numérica corresponde a una letra o carácter, que
                    difiere en cada uno de las diferentes codificaciones. Cada una de estas
                    combinaciones de puntos se llama “puntos de código” (“code points”). La
                    codificación de los caracteres determina cómo estos puntos de código son
                    representados en bytes. De esta manera, el conjunto de caracteres de Unicode
                    puede tener diferentes codificaciones como UTF-8, UCS-2, UCS-4 o UTF-16. Por eso
                    es importante señalar al inicio del documento qué codificación de caracteres
                    hemos utilizado para que el parser sepa cómo descifrarlos y para que nuestra
                    secuencia de texto se visualice de manera correcta. Aunque XML utiliza por
                    defecto UTF-8, se podría también utilizar otro sistema según nuestras
                    necesidades, como sería por ejemplo la combinación de caracteres ISO, por
                    ejemplo, el ISO-8859-1 (Latin 1) que corresponde a las lenguas europeas
                    occidentales, incluido el español.<br /></div> En algunos casos, en la
                declaración de documento también nos podemos encontrar el atributo “standalone”:<br />
                <div align="center">
                    <p><font face="courier new,courier,monospace">&lt;?xml version=&quot;1.0&quot;
                            encoding=&quot;UTF-8&quot; standalone=“no”?&gt; </font><br /></p>
                </div>
                <div align="justify"> Los valores del atributo “standalone” pueden ser afirmativo
                    “yes” o negativo “no”; en el primer caso significa que no depende de ningún
                    esquema externo y que por tanto el documento se regirá solo según las reglas del
                    lenguaje XML; en cambio, si no es “standalone” significa que depende de un
                    modelo abstracto concreto, es decir, concretamente de un esquema o DTD externos.
                </div>
            </li>
        </ul>
        <h2>3.2. Declaración de tipo de documento</h2>
        <div align="justify"> En algunos casos, un documento XML puede depender de un modelo
            abstracto que puede tener diferentes formas. Un caso frecuente es el modelo de la DTD
            (Document Type Definition), ampliamente utilizado en XML, aunque en desuso en el campo
            de TEI (donde se prefieren los esquemas RelaxNG). De esta manera, podemos encontrarnos
            en el prólogo del documento con una declaración del tipo de documento, “Documento Type”
            que tiene esta forma: <br /></div>
        <p align="center"><font face="courier new,courier,monospace">&lt;!DOCTYPE
                nombre_elemento_raiz SYSTEM &quot;nombre.dtd&quot;&gt;</font></p>
        <div align="justify"> Esta declaración está compuesta del identificador DOCTYPE, seguido del
            nombre del elemento raíz del documento que estamos marcando, a su vez seguido de SYSTEM
            con la indicación de la URL o ubicación del fichero DTD en cuestión (en este ejemplo, la
            DTD estaría en el mismo fichero que el documento XML). A veces, en lugar de SYSTEM,
            podemos encontrar PUBLIC, seguido de una URL; esto significa que la DTD está accesible
            de forma pública en la Web (normalmente se trata de algún estándar o de algún modelo
            público creado por una comunidad específica). Es el mismo procedimiento que podemos
            encontrar al inicio de un documento HTML 4 o XHTML: <br /></div>
        <p align="center"><font face="courier new,courier,monospace">&lt;!DOCTYPE html PUBLIC
                &quot;-//W3C//DTD XHTML 1.1//EN&quot;
                &quot;http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd&quot;&gt;</font></p>
        <h2>3.3. Instrucciones de procesamiento</h2>
        <p align="justify"> Aunque ahora no nos detengamos en este aspecto, no está de más señalar
            que cuando nos encontramos con este tipo de sintaxis: al inicio <font
                face="courier new,courier,monospace">&lt;?</font> y al final <font
                face="courier new,courier,monospace">?&gt;</font>, en realidad se trata de
            Instrucciones de procesamiento (en inglés, “Processing Instructions”). En estos casos,
            XML está señalando que con ese fragmento de código el documento está ofreciendo un tipo
            determinado de información que debe ser procesada por otra aplicación. Por ejemplo,
            podríamos encontrar un script en PHP que iría destinada a ser procesada por una
            aplicación PHP; otro caso muy habitual es el de la asociación de una hoja de estilo CSS
            al mismo documento XML: </p>
        <p align="center"><font face="courier new,courier,monospace">&lt;?xml-stylesheet href=
                “formato.css” type= “text/css”?&gt; </font></p>
        <p>De momento es solo necesario que sepáis diferenciar entre una instrucción de
            procesamiento y los elementos XML propiamente dichos.</p>
        <h2> 3.4. Declaración del espacio de nombre</h2>
        <p align="justify">En los documentos TEI aparece normalmente una declaración del “espacio de
            nombre” (en inglés, “namespace”). Por ejemplo, en un documento TEI aparece de la
            siguiente manera: </p>
        <p align="center"><font face="courier new,courier,monospace">&lt;TEI
                xmlns=&quot;http://www.tei-c.org/ns/1.0&quot;&gt; ... &lt;/TEI&gt;</font></p>
        <p align="justify">Los documentos XML pueden incluir elementos declarados en diferentes
            espacios de nombre. Por eso, la función de una tal declaración es la de evitar la
            ambigüedad de los nombres de los elementos y los atributos que pertenecen a una
            aplicación concreta de XML. Por ejemplo, imaginemos que en un mismo documento se
            utilizan dos sistemas de marcado que poseen elementos con el mismo nombre (por ejemplo
                <font face="courier new,courier,monospace">&lt;p&gt;</font>). Señalando el “espacio
            de nombre” dentro del cual cada uno de estos elementos debe ser interpretado se evitan
            errores y ambigüedades.</p>
        <p>Desde el punto de vista formal, el espacio de nombre se representa a través de su URI,
            que funciona, en realidad, como un identificador externo y al que se asocia un prefijo
            de espacio de nombre. Es importante que se declaren todos los espacios de nombre
            utilizados en un documento, bajo forma de atributos <font
                face="courier new,courier,monospace">@xmlns</font> en el elemento raíz del
            documento.</p><p>Retomando el ejemplo anterior, vemos como se ha añadido el espacio de
            nombre de TEI en el elemento raíz, y por consiguiente sabemos que todos los elementos en
            su interior responden a ese espacio de nombre por defecto:</p>
        <blockquote>
            <blockquote>
                <p><font face="courier new,courier,monospace">&lt;TEI
                        xmlns=&quot;http://www.tei-c.org/ns/1.0&quot;&gt;</font><br /><font
                        face="courier new,courier,monospace">&nbsp;&nbsp;
                        &lt;teiHeader&gt;</font><br /><font face="courier new,courier,monospace"
                        >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ....</font><br /><font
                        face="courier new,courier,monospace">&nbsp;&nbsp;
                        &lt;/teiHeader&gt;</font><br /><font face="courier new,courier,monospace"
                        >&nbsp;&nbsp; &lt;body&gt;</font><br /><font
                        face="courier new,courier,monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &lt;text&gt;</font><br /><font face="courier new,courier,monospace"
                        >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...</font><br /><font
                        face="courier new,courier,monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &lt;/text&gt;</font><br /><font face="courier new,courier,monospace"
                        >&nbsp;&nbsp; &lt;/body&gt;</font></p>
            </blockquote>
        </blockquote>
        <p align="justify">De no haberse declarado de esta manera y si quisiéramos añadir otro
            espacio de nombre, tendríamos que especificar el prefijo de cada uno de los espacios de
            nombre de los elemento con su prefijo o espacio de nombre correspondiente. Imaginemos el
            siguiente caso en que utilizamos etiquetas relativas a TEI y a Math, pues necesitamos
            marcar fórmulas matemáticas: </p>
        <blockquote>
            <blockquote>
                <p><font face="courier new,courier,monospace">&lt;tei:TEI
                        xmlns:tei=&quot;http://www.tei-c.org/ns/1.0&quot;
                        xmlns:math=&quot;http://www.mathml.org&quot;&gt;<br />&nbsp;
                        &lt;tei:teiHeader&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp; ...<br />&nbsp;
                        &lt;/tei:teiHeader&gt;<br />&nbsp; &lt;tei:text&gt;<br />&nbsp;&nbsp;&nbsp;
                        &lt;tei:body&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;tei:p&gt;Aquí el
                        texto del
                        párrafo...<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &lt;math:expr&gt;...Aquí la fórmula
                        matemática...&lt;/math:expr&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;
                        &lt;/tei:p&gt;<br />&nbsp;&nbsp;&nbsp; &lt;/tei:body&gt;<br />&nbsp;
                        &lt;/tei:text&gt;<br />&lt;/tei:TEI&gt;</font></p>
            </blockquote>
        </blockquote>
        <p>Aunque el caso anterior sería correcto, lo más habitual es declarar un nombre de espacio
            por defecto y establecer los otros espacios de nombre con su prefijo correspondiente, de
            manera que el marcado no sea tan pesado:</p>
        <blockquote>
            <blockquote>
                <p><font face="courier new,courier,monospace">&lt;TEI
                        xmlns=&quot;http://www.tei-c.org/ns/1.0&quot;
                        xmlns:math=&quot;http://www.mathml.org&quot;&gt;<br />&nbsp; &lt;
                        teiHeader&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...<br />&nbsp;
                        &lt;/teiHeader&gt;<br />&nbsp; &lt;text&gt;<br />&nbsp;&nbsp;&nbsp;
                        &lt;body&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;p&gt;Aquí el texto del
                        párrafo...<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &lt;math:expr&gt;...Aquí la fórmula
                        matemática...&lt;/math:expr&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;
                        &lt;/p&gt;<br />&lt;/body&gt;<br />&nbsp;
                        &lt;/text&gt;<br />&lt;/TEI&gt;</font></p>
            </blockquote>
        </blockquote>
        <p>Los dos objetivos principales del espacio de nombre son: <br />
        </p>
        <ul>
            <li>Diferenciar entre elementos y atributos de diferentes vocabularios con diferentes
                significados que puedan concurrir en el mismo documento con el mismo nombre. </li>
            <li>Agrupar conjuntamente todos los elementos y atributos relacionados de una aplicación
                concreta de XML de manera que el software pueda reconocerlos de manera más
                fácil.</li>
        </ul>
        <h2>3.5. El elemento raíz</h2>
        <p>Todo documento XML tiene un solo elemento raíz (en inglés, “root”), el único que no
            depende de ningún otro elemento y que contiene todos los otros. En <a href=""
                >ejemplo-2.xml</a>, el esquema sería el siguiente:</p>
        <p>
            <img alt="" width="512" height="384"
                src="http://www.ub.edu/boscan/susanna/esquema.001.jpg" /></p>
        <p align="justify">Como vemos, la estructura arbórea consta de un solo elemento raíz
            (“curso”), del que descienden todos los otros elementos. Estos elementos pueden
            constituirse en lo que llamamos “nodos” (en inglés “nodes”) que pueden ser: a) un
            subárbol: por ejemplo, <font face="courier new,courier,monospace"
                >&lt;metadatos&gt;</font> con sus cuatro elementos descendientes <font
                face="courier new,courier,monospace">&lt;titulo&gt;</font>, <font
                face="courier new,courier,monospace">&lt;fecha&gt;</font>, <font
                face="courier new,courier,monospace">&lt;profesor&gt;</font>, <font
                face="courier new,courier,monospace">&lt;universidad&gt;</font>; b) un simple
            elemento, por ejemplo, el nodo <font face="courier new,courier,monospace"
                >&lt;nombre&gt;</font>; c) la misma secuencia de caracteres que encontramos como
            contenido al interior de los elementos. Es importante conocer esta nomenclatura, pues en
            algún momento del curso os la encontraréis. </p>
        <h2>3.6. Elementos y contenido</h2>
        <p align="justify">Los elementos son las unidades de información semántica compuestas de una
            marca de apertura <span class="code">&lt;elemento&gt;</span> y de cierre <span
                class="code">&lt;/elemento&gt;</span>. El nombre del elemento constituye su
            identificador general y todo lo que queda entre estas dos marcas se llama “contenido”.
            Puede contener texto, otros elementos o estar vacío (<span class="code"
                >&lt;elemento/&gt;</span>). </p><p>En lo que concierne a los identificadores, es
            importante recordar que: </p>
        <ul>
            <li>el nombre del elemento puede solo contener letras y números (A-Z, a-z, 0-9), sin
                acentos ni espacios</li>
            <li>solo algunos signos pueden utilizarse: - (guión), _ (guión bajo), . (punto)</li>
            <li>el nombre no puede empezar por un número, ni por un signo, ni por “xml”</li>
            <li> XML es sensible a las mayúsculas y las minúsculas</li>
        </ul>
        <h2>3.7. Atributos y valores</h2>
        <p align="justify">Los elementos pueden poseer atributos que añadan una característica
            adicional al proprio elemento; su orden y número no es relevante. El nombre del atributo
            va siempre al interior de la etiqueta de apertura y va precedido de un espacio, seguido
            del símbolo =, y de comillas, dentro de las cuales aparece el “valor”. He aquí un
            ejemplo:</p>
        <p align="center"><span class="code">&lt;fecha cuando=&quot;2014-01-06&quot;&gt;06 enero
                2014&lt;/fecha&gt;<br /></span></p>
        <p align="justify">Los nombres de los atributos deben formularse igual que los nombres de
            los elementos. Su orden al interior del elemento es libre, siempre y cuando no se
            repita.</p>
        <h2>3.8. Comentarios y entidades</h2>
        <p align="justify">Los documentos XML pueden contener comentarios para que los autores
            puedan dejar sus notas, normalmente relativas al proceso de codificación del mismo
            documento. Pueden aparecer en cualquier lugar del documento mientras sea contenido; no
            podrán nunca situarse al interior de una marca o etiqueta. Por regla general, no están
            destinados a ser procesados por la máquina, y de hecho, son ignorados por defecto. Los
            comentarios están delimitados por <span class="code">&lt;!--</span> y <span class="code"
                >--&gt;</span>. Por ejemplo: </p>
        <p align="center"><font face="courier new,courier,monospace">&lt;!-- ¡esto es un comentario!
                --&gt;</font></p>
        <p align="justify">Por otro lado, las entidades de referencia (“entity references”) pueden
            ser de diferentes tipos de mayor o menor complejidad. En esta ocasión citaremos solo las
            entidades internas de caracteres, pues las encontraremos con una cierta frecuencia. Se
            trata de caracteres especiales que no deben ser interpretados como código. Por ello,
            determinados signos deben ser codificados de una manera especial. Sucede así en los
            siguientes casos:</p>
        <ul>
            <li><span class="code">&amp;lt;&nbsp;</span> para indicar el símbolo “menor que” o el
                paréntesis angular de la marca de apertura: <b>&lt;</b></li>
            <li><span class="code">&amp;gt;</span>&nbsp; para indicar el símbolo “mayor que” o el
                paréntesis angular de cierre de la marca: <b>&gt;</b></li>
            <li><span class="code">&amp;amp;&nbsp;</span> para indicar: <b>&amp; </b></li>
            <li><span class="code">&amp;quot;</span> para indicar las comillas
                    dobles:&nbsp;<b>&quot; </b></li>
            <li><span class="code">&amp;apos;</span>&nbsp; para indicar el apóstrofe o la comilla
                simple : <b>'</b></li>
        </ul>
        <h3 align="center"><a href="2.2.html">&lt; &lt; Anterior</a>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a href="2.4.html">Siguiente &gt;
            &gt;</a></h3></div>
    </body>
</html>
